/* Question #1 */ 
-- (A) Create below specified tables and make sure all the constraints, relationships are established.
CREATE TABLE DEPT (
  DEPTNO NUMBER(22) NOT NULL,
  DNAME VARCHAR2(50),
  LOC VARCHAR2(50),
  CONSTRAINT DEPTNO_PK PRIMARY KEY (DEPTNO)
);


CREATE TABLE EMP (
  EMPNO NUMBER(22) NOT NULL,
  ENAME VARCHAR2(100),
  JOB VARCHAR2(50),
  MGR NUMBER(22),
  HIREDATE DATE,
  SAL NUMBER(22, 2),
  COMM NUMBER(22, 2),
  DEPTNO NUMBER(22),
  CONSTRAINT EMPNO_PK PRIMARY KEY (EMPNO),
  CONSTRAINT DEPTNO_FK FOREIGN KEY (DEPTNO) REFERENCES DEPT (DEPTNO)
);

-- self-referencing foreign key constraint
ALTER TABLE EMP ADD CONSTRAINT MGR_FK FOREIGN KEY (MGR) REFERENCES EMP (EMPNO);


-- (B) insert records into DEPT table 
INSERT INTO DEPT (DEPTNO, DNAME, LOC) VALUES (10, 'ACCOUNTING', 'NEW YORK');
INSERT INTO DEPT (DEPTNO, DNAME, LOC) VALUES (20, 'RESEARCH', 'DALLAS');
INSERT INTO DEPT (DEPTNO, DNAME, LOC) VALUES (30, 'SALES', 'CHICAGO');
INSERT INTO DEPT (DEPTNO, DNAME, LOC) VALUES (40, 'OPERATIONS', 'BOSTON');



INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, SAL, COMM, DEPTNO) VALUES (11876, 'Max', 'Inspector', TO_DATE('23-MAY-1997', 'DD-MON-YYYY'), 31100, NULL, 20);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, SAL, COMM, DEPTNO) VALUES (11499, 'Donnie', 'Carpenter', TO_DATE('20-FEB-1991', 'DD-MON-YYYY'), 41600, 7300, 30);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, SAL, COMM, DEPTNO) VALUES (11698, 'Amber', 'Manager', TO_DATE('01-MAY-1991', 'DD-MON-YYYY'), 52850, NULL, 30);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, SAL, COMM, DEPTNO) VALUES (11782, 'Melissa', 'Manager', TO_DATE('09-JUN-1991', 'DD-MON-YYYY'), 62450, NULL, 20);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, SAL, COMM, DEPTNO) VALUES (11902, 'Chris', 'Analyst', TO_DATE('03-DEC-1991', 'DD-MON-YYYY'), 73000, NULL, 10);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, SAL, COMM, DEPTNO) VALUES (11900, 'Shara', 'Inspector', TO_DATE('03-DEC-1991', 'DD-MON-YYYY'), 81950, NULL, 30);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, SAL, COMM, DEPTNO) VALUES (11566, 'Nathan', 'Manager', TO_DATE('02-APR-1991', 'DD-MON-YYYY'), 92975, NULL, 20);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, SAL, COMM, DEPTNO) VALUES (11839, 'Bond', 'CEO', TO_DATE('17-NOV-1991', 'DD-MON-YYYY'), 500000, NULL, 10);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, SAL, COMM, DEPTNO) VALUES (11654, 'Erin', 'Carpenter', TO_DATE('28-SEP-1991', 'DD-MON-YYYY'), 51250, 8400, 30);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, SAL, COMM, DEPTNO) VALUES (11934, 'Seth', 'Inspector', TO_DATE('23-JAN-1992', 'DD-MON-YYYY'), 41300, NULL, 10);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, SAL, COMM, DEPTNO) VALUES (11788, 'Scott', 'Analyst', TO_DATE('19-APR-1997', 'DD-MON-YYYY'), 33000, NULL, 20);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, SAL, COMM, DEPTNO) VALUES (11369, 'George', 'Inspector', TO_DATE('17-DEC-2000', 'DD-MON-YYYY'), 22800, NULL, 20);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, SAL, COMM, DEPTNO) VALUES (11844, 'Yuki', 'Carpenter', TO_DATE('08-SEP-2021', 'DD-MON-YYYY'), 111500, 0, 30);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, SAL, COMM, DEPTNO) VALUES (11521, 'Brett', 'Carpenter', TO_DATE('22-FEB-2021', 'DD-MON-YYYY'), 131250, 2500, 30);
UPDATE EMP SET MGR = 11876 WHERE EMPNO = 11788;
UPDATE EMP SET MGR = 11499 WHERE EMPNO = 11698;
UPDATE EMP SET MGR = 11698 WHERE EMPNO = 11839;
UPDATE EMP SET MGR = 11782 WHERE EMPNO = 11839;
UPDATE EMP SET MGR = 11902 WHERE EMPNO = 11566;
UPDATE EMP SET MGR = 11900 WHERE EMPNO = 11698;
UPDATE EMP SET MGR = 11566 WHERE EMPNO = 11839;
UPDATE EMP SET MGR = 11654 WHERE EMPNO = 11698;
UPDATE EMP SET MGR = 11934 WHERE EMPNO = 11782;
UPDATE EMP SET MGR = 11788 WHERE EMPNO = 11566;
UPDATE EMP SET MGR = 11369 WHERE EMPNO = 11902;
UPDATE EMP SET MGR = 11844 WHERE EMPNO = 11698;
UPDATE EMP SET MGR = 11521 WHERE EMPNO = 11698;

COMMIT;
